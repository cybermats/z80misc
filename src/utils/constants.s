; Constants for the cyber80 project


; Memory map
ROMBEG:		equ	000000h
ROMEND:		equ	0007ffh
VRAMBEG:	equ	007000h
VRAMEND:  	equ	007fffh
RAMBEG:	  	equ	008000h
RAMEND:	  	equ	00ffffh

; Ports
; General port
OUTPORT:	equ	0000h

; Video ports
VADDRPORT:	equ	0080h
VDATAPORT:	equ	0081h

; Serial ports
SIODATAA:	equ	00f0h
SIODATAB: 	equ	00f1h
SIOCMDA:  	equ	00f2h
SIOCMDB:  	equ	00f3h


; Character constants
RS:		equ 	01eh	; Record Separator
US: 		equ 	01fh	; Unit Separator
BACKSPC:	equ	08h	; Back-space
EOF:		equ	1ah	; End Of File
NUL:		equ	00h	; Null

; Memory Locations
STACK_START:	equ	00fe00h	
VARBEG:		equ	00fe00h ; This gives $200 bytes for variables

;DVLST:		equ	00fe00h	; Device list has $100 bytes,
				; each taking 17 bytes, i.e. 10 devices
;DVTE:		equ	00fe02h	; Device Table Entry memory pool

INT_TABLE:	equ	00fe00h	; Interrupt table
INT_SIO:	equ	00fe10h	; SIO Interrupts base vector
INT_SR:		equ	00fe14h ; Serial int
INT_KB:		equ	00fe1ch ; Keyboard int

INT_TABLE_END:	equ	00fe80h ; 

IBUFFER:	equ	00fe80h ; Input buffer
IBUFEND:	equ	00ff00h ; End of buffer, exclusive
;IBUFFER:	equ	0078c0h ; Input buffer
;IBUFEND:	equ	0079c0h ; End of buffer, exclusive

CURSOR_COL:	equ	00ff00h
CURSOR_ROW:	equ	00ff01h
VIDEO_STATUS:	equ	00ff02h

KB_START_PTR:	equ	00ff04h
KB_END_PTR:	equ	00ff06h
;KB_START_PTR:	equ	007920h
;KB_END_PTR:	equ	007922h
KB_PS2_STATE:	equ	00ff08h
KB_PS2_COUNT:	equ	00ff09h
;KB_PS2_STATE:	equ	007910h
;KB_PS2_COUNT:	equ	007912h
KB_BUFFER_BEG:	equ	00ff0ah
KB_BUFFER_END:	equ	00ff12h	; End of buffer, exclusive
;KB_BUFFER_BEG:	equ	007910h
;KB_BUFFER_END:	equ	007920h	; End of buffer, exclusive

SR_BUFFER_BEG:	equ	00ff12h
SR_BUFFER_END:	equ	00ff1ah	; End of buffer, exclusive
SR_START_PTR:	equ	00ff1ah
SR_END_PTR:	equ	00ff1ch

; Devices
VIDEO_DVC:	equ	01h
KEYBOARD_DVC:	equ	02h



; Misc consts
SIO_RD0_BREAK			= 10000000b
SIO_RD0_UNDERUN_EOM		= 01000000b
SIO_RD0_CTS			= 00100000b
SIO_RD0_SYNC_HUNT		= 00010000b
SIO_RD0_DCD			= 00001000b
SIO_RD0_TX_EMPTY		= 00000100b
SIO_RD0_INT_PEND		= 00000010b
SIO_RD0_DATA_AV			= 00000001b

SIO_WR0_REG0			= 00000000b
SIO_WR0_REG1 			= 00000001b
SIO_WR0_REG2 			= 00000010b
SIO_WR0_REG3 			= 00000011b
SIO_WR0_REG4 			= 00000100b
SIO_WR0_REG5 			= 00000101b
SIO_WR0_REG6 			= 00000110b
SIO_WR0_REG7 			= 00000111b

SIO_WR0_CMD_NULL		= 00000000b
SIO_WR0_CMD_ABORT 		= 00001000b
SIO_WR0_CMD_RST_EXT_STS_INTS	= 00010000b
SIO_WR0_CMD_CHNL_RST 		= 00011000b
SIO_WR0_CMD_EN_INT_NXT_RX_CHR 	= 00100000b
SIO_WR0_CMD_RST_TX_INT 		= 00101000b
SIO_WR0_CMD_ERR_RST 		= 00110000b
SIO_WR0_CMD_RTN_FRM_INT 	= 00111000b

SIO_WR0_CRC_NULL		= 00000000b

SIO_WR1_WR_EN			= 00000000b
SIO_WR1_WR_FUNC			= 01000000b
SIO_WR1_WR_ON_RT		= 00100000b

SIO_WR1_RX_INT_DIS		= 00000000b
SIO_WR1_RX_INT_FIRST		= 00001000b
SIO_WR1_RX_INT_ALL_PRT		= 00010000b
SIO_WR1_RX_INT_ALL		= 00011000b

SIO_WR1_ST_AFF_INT_VEC		= 00000100b
SIO_WR1_TX_INT			= 00000010b
SIO_WR1_EXT_INT			= 00000001b


SIO_WR3_RX_5BITS		= 00000000b
SIO_WR3_RX_7BITS		= 01000000b
SIO_WR3_RX_6BITS		= 10000000b
SIO_WR3_RX_8BITS		= 11000000b

SIO_WR3_AUTO_EN			= 00100000b
SIO_WR3_HUNT			= 00010000b
SIO_WR3_RX_CRC			= 00001000b
SIO_WR3_ADDR_SRC_SDLC		= 00000100b
SIO_WR3_SNC_CHAR_L		= 00000010b
SIO_WR3_RX_EN			= 00000001b

SIO_WR4_CLK_X1			= 00000000b
SIO_WR4_CLK_X16			= 01000000b
SIO_WR4_CLK_X32			= 10000000b
SIO_WR4_CLK_X64			= 11000000b

SIO_WR4_SNC_8B			= 00000000b
SIO_WR4_SNC_16B			= 00010000b
SIO_WR4_SNC_SDLC		= 00100000b
SIO_WR4_SNC_EXT			= 00110000b

SIO_WR4_SNC_EN			= 00000000b
SIO_WR4_STP_1			= 00000100b
SIO_WR4_STP_15			= 00001000b
SIO_WR4_STP_2			= 00001100b

SIO_WR4_PRT_ODD			= 00000000b
SIO_WR4_PRT_EVEN		= 00000010b

SIO_WR4_PRT_EN			= 00000001b

SIO_WR5_DTR			= 10000000b

SIO_WR5_TX_5BITS		= 00000000b
SIO_WR5_TX_7BITS		= 00100000b
SIO_WR5_TX_6BITS		= 01000000b
SIO_WR5_TX_8BITS		= 01100000b

SIO_WR5_SND_BRK			= 00010000b
SIO_WR5_TX_EN			= 00001000b
SIO_WR5_SDLC_CRC16		= 00000100b
SIO_WR5_RTS			= 00000010b
SIO_WR5_TX_CRC			= 00000001b


